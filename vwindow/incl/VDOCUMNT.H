#ifndef V_DOCUMENT#define V_DOCUMENT#include "VIO.h"extern struct V_Array *theSuper;struct V_Document *ActiveDocument(void);extern struct V_Document *stub;#if MACINTOSHextern struct V_WindowMenu *theWindowMenu;#endif //MACINTOSHvoid NewDocument(struct V_File *,int);void StartUp(void);void EndIt(void);void SetStub(struct V_Document *);void MakeStub(void);#if VRextern int VRLibFlag; 	// JCA 3 sept 93#define VRLIB_DEFWIDTH 		204#endif // VR#if WINDOWS#define VIRTUS_MESSAGE	WM_USER+100#define VWM_MOUSEMOVE	WM_USER+42#define CHILDWINDOW_IDSTART	4100#define WIN_MULTIPLE_DOC_STACKING_MAX	8 // jca 21MAR94 only have 10 docs in a row before stacking them on each other.extern char *documentClassName;	long FAR PASCAL _export DocumentWndProc (HWND , UINT, WPARAM, LPARAM );void SetCurrentDocument(struct V_Document *);struct V_Document *GetCurrentDocument(void);#endif //WINDOWSenum SaveResponse{	QYES=1,	QNO,	QCANCEL	};	enum ReactFlags{	ACTIVATE=1,	DEACTIVATE,	SHOW,	HIDE,	CLOSE	};enum MDICreationFlags {                  // jca 10 Oct 93 {	NoMDI=1,	NewMDI	};                                   // jca 10 Oct 93 }			doc->OpenDocument(query,NULL, NoMDI);struct V_Document:V_IO{	struct V_MenuMgr *theMenu;	struct V_Array	 *windows;		struct V_Document *superDoc; // DAS-VWINDOWS 9/2/93 this is to flatten things	struct V_Array *subDocs;	 // DAS-VWINDOWS 9/2/93 ""	char title[256];	char titlePrefix[256];		int	untitled;				struct V_Print *vprint;	int closing;		//indicates that the document is shutting down#if VR	struct VInfoWindow	*vwi;#endif#if WINDOWS	struct V_WindowMenu *theWindowMenu;	HWND hwndFrame;  	//The outside frame MDI window	HWND hwndMDIClient; //Content window inside the frame	HWND hwndActive;	//Current active child window//	struct MenuArray *visibleMMgr;	int frameConcealed;	//Indicates that frame window is concealed (during startup)	Rect frameRect;		//Where the frame is when not concealed	HWND GetMDIClient(void);	HWND GetFrame(void);//	struct MenuArray *GetVisibleMenu(void);#endif //WINDOWS#if VR	Rect GetInfoWinRect(void);  	// gets the size of the info window	struct VInfoWindow *GetInfoWin(void);			// return the	virtual struct V_Window *GetVRLib(void);  		// jca 27 Sept 93	virtual struct V_Window *GetVRWalk(void);  		// BG 9/28/93	virtual struct V_Window *GetVRDesign(void);  	// BG 9/28/93	Rect GetVRLibRect(void);	virtual void MoveVRLib(int swap);#endif#if VPLAYER	virtual void MoveWalkWin(void);#endif //VPLAYER	virtual void TransferControl(void);			// jca 20APR94 detects whether to transfer control	void TransferDocumentControl(V_Document *);	// jca 10 Oct 93 // jca 16FEB94 moved outside of VR area	void Activate(struct V_Window *);	void Cleanup(void);	void MakeWinMenu(void);	void OpenDocument(int,struct V_File *, int);    // jca 10 Oct 93	virtual void SetupDocumentInternals(int);       // jca 10 sept 93	virtual void InitInfoWindow(void);           	// jca 11 sept 93	virtual void CloseDocument(void);				// bg  18 sept 93	void Install(struct V_Window *);	void UnInstall(struct V_Window *);	int ActiveWindows(void);	void LoadNew(int);	void LoadOver(int);	void LoadAppend(int);	void New(void);	void Close(void);   	int  CloseQuery(void);   // jca 18FEB94 handles results of QSave call, returns T/F on whether we successfully closed.	void Revert(void);	int  Quit(void);	int	 QSave(void);	virtual void SetTitle(strPtr);	virtual void GetTitle(strPtr);	void SetTitlePrefix(strPtr);	void GetTitlePrefix(strPtr);	void TileWindows(void);	void MenuDisplay(void);	void MenuPreempt(void);	int  MenuDispatch(int,int,long);	virtual void MessageDispatch(long,long);      // jca 23 Nov 93	int  DoMenuAction(struct V_Menu *,int,long);	struct V_MenuMgr *GetMenuMgr(void);		virtual int Save(int);	/*save this Document based upon query flag*/	virtual int Load(int);	/*load this Document based upon query flag*/	virtual int Changed(void);/*any changes since last we checked? 	*/	virtual int  cDocument(int,struct V_File *);	virtual void dDocument(void);		virtual void React(struct V_Window *,int);	#if (!VPLAYER)	void PageSetup(void); /* added GBA 8/13/90 */	struct V_Print * GetVPrint(void); /* added GBA 8/13/90 */#endif //!VPLAYER	int	Untitled(void);	/* DAS 11/12/90 shows if file name has been changed */	void ConcealFrame(void);	void RevealFrame(void);	Rect GetFrameRect(void);	void SetFrameRect(Rect);	void InstallSuperDoc(struct V_Document *);	void UninstallSuperDoc(void);	struct V_Document *RealDoc(void);	};// DAS-VWINDOWS-FLATTEN 9/2/93 sometimes doc is nil#define REALDOC(doc) ((doc)?(doc)->RealDoc():(doc))#endif //V_DOCUMENT