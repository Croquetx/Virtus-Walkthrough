/*------------------------------------------------------------------------------ * WalkThrough_ - the real time 3-D CAD system. * Version 0.1 * * Copyright _ 1989 by Virtus Corporation * All Rights Reserved * Written by  	David A. Smith *				David W. Easter *				Mark J. Uland * Suite 204 * 117 Edinburgh South * Cary, North Carolina    27511 * (919) 467-9700 *------------------------------------------------------------------------------ * PopColor.h *------------------------------------------------------------------------------ */#ifndef POP_COLOR#define POP_COLOR#include "VPane.h"/* These are used to designate which area the user most recently selected. * This information is recorded so that the highlighting rectangle may be * erased, and so the user's final selection may be reported to the calling * object. */#define ZoneNowhere 0#define ZoneCurrent 1#define ZoneRecent 2#define ZonePalette 3/* This is a utility routine that copies c2 to c1. */RGBColor *CopyColor(RGBColor *c1, RGBColor *c2);struct PopColor:V_Pane	{	int rcx,rcy,pcx,pcy;	/* The size of a single cell */	int rnx,rny,pnx,pny;	/* The number of cells in grid */	int nr;					/* The number of colors to remember */	Rect cRect,rRect,pRect;	/* Rectangles enclosing the three zones */	RGBColor cc,*cz;		/* cc = Current color, cz = color array */	struct V_Array *recent;		/* The nr most recently selected colors */	int czone, ci, cj;		/* The most recent zone and location */	Rect cr;				/* The currently highlighted Rect */	int pt;					/* type of palette to use */  //	V_Offscreen *wheel1;  //	V_Offscreen *wheel8;  //	V_Offscreen *mask;  //	V_Offscreen *image1;  //	V_Offscreen *image8;	/* --- */		void cPane(int);						/* Initializes the pane */	void dPane(void);						/* Destroys the pane */	void Track(Point,long,int);				/* Follows the mouse */	void CalcSize(Rect *,Point *,int,int);	/* Sizes the pane */	void SetPT(void);	void Display(int,int,int);				/* Displays the pane */		int Pop(Point pt, RGBColor *c, Rect *avoidArea);			/* Presents the pane to the user */	void DisplayRecent(int XPaneOffset, int YPaneOffset);	/* draw the recent colors to the pane */	// jca 8 aug 93	void DisplayPalette(int XPaneOffset, int YPaneOffset);	/* draw the picker palette to the pane */	// jca 8 aug 93	void RColor(int i,int j, RGBColor *c);	/* Finds a color in ZoneRecent */	void PColor(int i,int j, RGBColor *c);	/* Finds a color in ZonePalette */	void RRect(int i, int j, Rect *r);		/* Finds a rect in ZoneRecent */	void PRect(int i, int j, Rect *r);		/* Finds a rect in ZonePalette */	void SetCR(Rect *r);					/* Sets the highlighted rectangle */	int Done(void);							/* Call this after the pane goes away */	RGBColor GetRecent(void);				/* Gets most recent a color */	void Remember(RGBColor *rgb);			/* Adds a color to recent */	void Paint(RGBColor *rgb);				/* Draws the given color */	int IO_Color(struct V_Buffer *);	};#endif //POP_COLOR