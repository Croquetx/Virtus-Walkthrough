#ifndef CAVWALK_CONTROLLER#define CAVWALK_CONTROLLER#include "WTypes.h"#include "WlkCntrl.h"#include "VDisplay.h"struct CAVWalkController:WalkController	{		struct V_Array		*environments;			#if VPRO	struct TextureList	*textureList;	struct TextureBackPane		*textureBackPane;		// ABD TEXTURE	struct GrowPane			*tgrowPane;		// ABD TEXTURE#endif // VPRO			struct V_Array		*layerlist;			struct V_Array		*selectlist;	struct V_Array		*traceTree;	struct CAVPolyhedron	*dropRoot,*duplicate;	Point3DFFixed		modelSizeMin,modelSizeMax;#if VWT	struct MenuView		*viewMenu;#elif VR	struct MenuVRWalk	*walkMenu;	struct V_Array 		*savePanes;	struct V_Window 	*saveWindow;#endif //VWT#if VPRO	struct CadPosition		*position;		// ABD	// MERGE-GOURAUD-PRO#endif	struct MenuWindow	*windowMenu;	Rect    			defaultWindowRect;	int					walkOption;	short				preFullWindowState;	struct V_Offscreen	*sIcon[4];	struct V_Offscreen	*creditScreen;	// BILBIL - credit stuff!	struct V_Array		*creditText;	// BILBIL - credit stuff!		/* --- */	void 	cController(V_Document *);	void 	dController(void);	int		React(struct V_Window *,int);	void	SetDocument(struct V_Document *);	struct CAVEnvironment *SetCAVEnvironment(int,int);	void		InitInfo(struct Controller *);#if VPRO	void	cAllPalettes(void);		// ABD TEXTURE	// MERGE-GOURAUD-PRO	void	ActivatePalette(int,Boolean);		// ABD 	void	SetPaletteController(int,Controller* c);		// ABD #endif // VPRO	void	NewPolyhedron(int,struct CAVPolyhedron  *);	void	NewSurfFeature(struct V_Array  *);	void	Select(struct CAVPolyhedron *,struct V_Array *);	void	SetLastPoly(struct CAVPolyhedron *);	struct CAVPolyhedron *GetLastPoly(void);			void	LaunchEditor(struct Polyhedron *,FFixed,struct SurfDef *,Point3DFFixed,int);	void	LaunchController(struct LaunchInit , int);		void	Request(void *,int,int,int);		int		EditPolyhedron(void*,int);		struct V_Window *GetWindowOfType(int ctrlType);	// MERGE-GOURAUD-PRO	struct TextureItem *GetTexture(void);				// ABD WILLIAMS MERGE-TEXTURE 9/13/93#if VPRO//JAM TXTRFIDDLE 06/14/94 [[[	struct TextureBackPane *GetTextureBackPane(void);//JAM TXTRFIDDLE 06/14/94 ]]]#endif	struct TextureList *GetTextureList(void);			// ABD WILLIAMS MERGE-TEXTURE 9/13/93	struct TextureListItem *GetTextureListItem(void);	// ABD WILLIAMS MERGE-TEXTURE 9/13/93	void	SetTextureItem(struct TextureItem *);		// ABD WILLIAMS MERGE-TEXTURE 9/13/93	void	AddTextureItem(struct TextureItem *);		// ABD WILLIAMS MERGE-TEXTURE 9/13/93	void	AddTextureItem3(struct TextureItem *);		// ABD WILLIAMS MERGE-TEXTURE 9/13/93	int		ModelSize(struct Polyhedron  *);	void 	*cTool(struct Controller *,int);	struct  V_Window *cPallette(int);	void	FlushPallette(int);	void	ShowPallette(int,int);	struct  V_Window *GetWindow(int);	struct WalkDrawing	*NewDrawing(void);	struct Observer		*NewObserver(void);	void	ControlMessage(int,long,int);/* NEW */	void	SetPreference(struct AppPreference *,int );/* NEW */	void	LoadWindowPref(struct AppPreference	*);/* NEW */	void 	Activate(int);	void	GetWorldSize(Point3DFFixed*,Point3DFFixed*);/* NEW */	int 	GetWindowState(void); 	int		UnitConversion(double);	#if VPRO	void GetPlace(Rect *r,int warning,int who);#endif#if VR || VPRO	//MERGE-GOURAUD-PRO-4 	void	ShowPlayerCredits(void);#endif //VR#if VPRO	//MERGE-GOURAUD-PRO-4	void	GetCredits(void);#endif //VPRO	Point3DFFixed 	GetViewVector(void);	struct Trace *StartImport(void);	void	EndImport(struct Trace *);	int		DoImport(struct Trace *,struct V_File *,struct ScoreRecord *);	void	SelectImport(struct Trace *);	void	**OpenImportFile(struct V_File *);	struct  CAVPolyhedron *SetImportLayer(struct Trace *,char *);#if MACINTOSH	void	SetImportElement(struct Trace *,struct  CAVPolyhedron *,struct V_Picture *,PointFFixed *,int,RGBColor,FFixed,int,int);#elif WINDOWS	void	SetImportElement(struct Trace *,struct  CAVPolyhedron *,struct V_Offscreen *,PointFFixed *,int,RGBColor,FFixed,int,int);#endif	int		IO_ReadExtra(struct V_Buffer *,long);	int		IO_WriteFirst(struct V_Buffer *);	int		IO_WriteLast(struct V_Buffer *);	int		IO_LAYR(struct V_Buffer *);	int		IO_CRED(struct V_Buffer *);	int		IO_TEXT(struct V_Buffer *);		int	Export(struct ModelExport *);	struct  V_Offscreen *FullScreen(struct Controller *,int); 	int ExportContents(struct V_Buffer *,int);	void Import(Point3DFFixed,struct V_File *,struct ScoreRecord *);	void InstallTrace(struct Trace *);	void RemoveTrace(struct Trace *);	void RestoreDesign(struct V_Window *aWindow);	};#define TOOLS_ON		0x01	#define DEPTH_ON		0x02	#define INFO_ON			0x04		// ееее THIS IS OBSOLETE, IT IS USED FOR TEXTURE BELOW#define POSITION_ON		0x08	#define VIEW_ON			0x10	#define WALK_ON			0x20	#define COORD_ON		0x40		/* MERGE-GOURAUD-PRO ABD */#define TEXTURE_ON		0x0004		// ABD TEXTURE#define pwc(ptr) ((CAVWalkController*)ptr)// JAM 11-18-93 added for controlling some minimum window sizes [[[#define DESIGNVIEWMINHEIGHT	100;#define DESIGNVIEWMINWIDTH	100;#define WALKVIEWMINHEIGHT	100;#define WALKVIEWMINWIDTH	200;#define LIBWINMINHEIGHT		100;#define LIBWINMINWIDTH		100;// JAM 11-18-93 added for controlling some minimum window sizes ]]]#endif //CAVWALK_CONTROLLER