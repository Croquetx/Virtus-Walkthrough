#ifndef AVI_MOVIE#define AVI_MOVIE#include "VTypes.h"#include "VFile.h"#include "WalkMovi.h"#if WINDOWS#include <mmsystem.h>#include "avifile.h"#include "compddk.h"#endif// special V_File to handle the avi file stuff.struct V_AVIFile:V_File {	Int			err;#if WINDOWS && V_AVI	PAVIFILE		aviFilePtr;#endif	void 			cAVIFile(int q,long tp,long crt,strPtr filts,strPtr qstr);	void			dAVIFile(void);	int			Open(int);	int			Close(void);};struct AVIMovie:WalkMovie {#if WINDOWS && V_AVI	struct V_Offscreen 	*frame;	Handle				BMPHandle;	Long					frameCount;	ULong					compressorCodec;	int					comprQuality, keyFrame;	V_AVIFile			*aviFilePtr;	PAVISTREAM			vidStream, comprVidStream, theStream;	Long 				frameSize;#endif	int					streamId, compression;	int		cWalkMovie(struct TranslatorPreference *, struct V_Buffer *);	void	dWalkMovie(void);	int		BeginMovie(Rect *, long, long);	int 	AnimateMovie(struct V_Pane *, struct Observer *);	int 	WriteMovieFrame(struct V_Offscreen *);	int		EndMovie(void);   /* private routines */	int		MakeVideoStream(void);	int		CloseVideoStream(void);	int 	ReportAVIError(ULong);	int		HandleAVISpecialErrorCases(ULong);};// AVI fancy compression thingies:// this gets us the list of available compressors and whether they work for this #define NO_AVI_COMPRESSOR	0	// PRO-JAP moved some strings#define FindVideoCodecs(a)	 FindCodecs(a, ICTYPE_VIDEO)#define FindAudeoCodecs(a)	 FindCodecs(a, ICTYPE_AUDEO)#if WINDOWStypedef struct {					ICINFO	ic;					int		works;					} AVICompressorCodec;#elif MACINTOSHtypedef struct {					int works;					} AVICompressorCodec;#endif// compressor stuffint	FindCodecs(V_Array *, ULong);   // what codecs are available?int	CanCodecsCompressVideo(V_Array *, Rect *, int); // do they work?long	FindCodecFromType(V_Array *, ULong);  // what was the last one?int	GetRecommendedQuality(AVICompressorCodec *);	// what it the driver's recommended quality?#endif                   